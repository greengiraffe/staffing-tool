<div class="page-wrapper">

  <ul class="tablist" role="tablist">
    <li class="tab" [ngClass]="{ active: activeTab === 'projects' }">
      <a class="tab-link" role="tab" (click)="showTab($event)" routerLink="/user/project/list/projects" data-target="projects">Projects</a>
    </li>
    <li class="tab" [ngClass]="{ active: activeTab === 'tasks' }">
      <a class="tab-link" role="tab" (click)="showTab($event)" routerLink="/user/project/list/tasks" data-target="tasks">Tasks</a>
    </li>
    <button type="button" class="btn btn-primary btn-add-project" routerLink="/user/project/create">New Project</button>
  </ul>

  <div class="content-wrapper">

    <div class="settings">
      <h6 class="settings-title">Filter</h6>
      <ul class="filter-list">
        <li class="filter">
          <label>
            <input id="own" type="checkbox" (change)="filterProjects('own', true)" />Own projects
          </label>
        </li>
        <li class="filter">
          <label>
            <input id="high" type="checkbox" (change)="filterProjects('high', true)" />High priority projects
          </label>
        </li>
        <li class="filter">
          <label>
            <input id="past" type="checkbox" (change)="filterProjects('past', true)" />Past projects
          </label>
        </li>
        <li class="filter">
          <label>
            <input id="current" type="checkbox" (change)="filterProjects('current', true)" />Current projects
          </label>
        </li>
      </ul>
      <h6 class="settings-title">Order by</h6>
      <ul class="filter-list">
        <li class="filter">
          <div class="flex-container">
            <div>
              <i id="start-asc" class="fa fa-caret-up orderButtons" (click)="orderProjects('start-asc', true)"></i>
              <i id="start-desc" class="fa fa-caret-down orderButtons" (click)="orderProjects('start-desc', true)"></i>
            </div>
            <div>
              Start date
            </div>
          </div>
        </li>
        <li class="filter">
          <div class="flex-container">
            <div>
              <i id="end-asc" class="fa fa-caret-up orderButtons" (click)="orderProjects('end-asc', true)"></i>
              <i id="end-desc" class="fa fa-caret-down orderButtons" (click)="orderProjects('end-desc', true)"></i>
            </div>
            <div>
             End date
            </div>
          </div>
        </li>
        <li class="filter">
          <div class="flex-container">
            <div>
              <i id="client-asc" class="fa fa-caret-up orderButtons active" (click)="orderProjects('client-asc', true)"></i>
              <i id="client-desc" class="fa fa-caret-down orderButtons" (click)="orderProjects('client-desc', true)"></i>
            </div>
            <div>
              Client
            </div>
          </div>
        </li>
      </ul>
    </div>

    <main class="content">
      <div class="ducspinner" *ngIf="projects === undefined"></div>
      <div id="projects" class="tabpane" [ngClass]="{ active: activeTab === 'projects' }">
        <app-project-card
          [project]="project"
          (onDelete)="deleteProject(project)"
          *ngFor="let project of filteredProjects">
        </app-project-card>
      </div>

      <div class="tabpane" id="tasks" [ngClass]="{ active: activeTab === 'tasks' }">
        <template ngFor let-project [ngForOf]="projects">
          <app-task-card
            [project]="project"
            [task]="projectTask"
            (onDelete)="deleteProjectTask(project._id, projectTask._id)"
            *ngFor="let projectTask of project.projectTasks">
          </app-task-card>
        </template>
      </div>
    </main>

  </div>
</div>
