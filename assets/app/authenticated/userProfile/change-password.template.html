<form id="changePassword" [formGroup]="changeForm" (ngSubmit)="onSubmit(changeForm.value)">

  <div class="form-group">
    <label for="current-password-input">Current password</label>
    <input id="current-password-input"
           [class.error]="changeForm.hasError('wrongPassword')"
           class="form-control"
           type="password"
           placeholder="Enter your current password"
           formControlName="oldPw" required>
    <div class="errors">
      <div *ngIf="changeForm.hasError('wrongPassword')"
           class="red">
        Wrong password.
      </div>
    </div>
  </div>

  <div formGroupName="newPw">
    <div class="form-group" >
      <label for='new-password-input'>New password</label>
      <input id="new-password-input"
             class="form-control"
             type="password"
             placeholder="Enter your new password"
             formControlName="password" required>
      <div class="errors">
        <div *ngIf="changeForm.get('newPw').get('password').dirty && changeForm.get('newPw').get('password').hasError('minlength')"
             class="red">
          Password must be at least 8 characters long.
        </div>
        <div *ngIf="changeForm.get('newPw').get('password').dirty && changeForm.get('newPw').get('password').hasError('noCapital')"
             class="red">
          Password must contain at least 1 capital letter (A-Z).
        </div>
        <div *ngIf="changeForm.get('newPw').get('password').dirty && changeForm.get('newPw').get('password').hasError('noNumber')"
             class="red">
          Password must contain at least 1 number (1-9).
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for='new-password-confirm-input'>Confirm new password</label>
      <input id="new-password-confirm-input"
             [class.error]="changeForm.get('newPw').get('confirm').dirty && changeForm.get('newPw').invalid"
             class="form-control"
             type="password"
             placeholder="Enter your new password"
             formControlName="confirm" required>
      <div class="errors">
        <div *ngIf="changeForm.get('newPw').get('confirm').dirty && (changeForm.get('newPw').get('confirm').invalid || changeForm.get('newPw').invalid)"
             class="red">
          Passwords must match.
        </div>
      </div>
    </div>
  </div>

</form>
